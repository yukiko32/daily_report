## 取り組んだ課題一覧
- データモデリング課題修正
- スッキリわかるSQL入門 問題集
- REST Udemy
	
## わかったこと

### REST

#### Webサービスの基本

- API とは、「Application Programming Interface」機能やデータを外部から呼び出して利用できるよう定めた「規約」のこと
- WebAPIは、第三者が情報を活用して新たな機能を開発できる
- 独自性のない機能はWebAPIとして公開しても意味がない
- WebAPI公開によるリスクはユーザーが減ること、リソースが圧迫されること→対象への公開を制限することで対処する
- CRUD操作とは、Create,Read,Update,Deleteのこと

##### HTTPリクエスト

- 以下の3要素で構成される
- リクエストライン
	- メソッド、リクエストURL、HTTPバージョンの3要素
	- メソッドは8種類
		- `GET`：読み取り
		- `POST`：作成（リソース名未定）
		- `PUT`：作成（リソース名決定済み）、更新
		- `DELETE`：削除

- ヘッダー
	- `User-Agent`：クライアントのブラウザ情報
	- `Content-Type`：送信データのフォーマット
	- `Cookie`：クッキー

- ボディ
	- `Content-Type`によって、様々な情報が入る


##### HTTPレスポンス

- 以下の3要素で構成される
- ステータスライン
	- HTTPバージョン、ステータスコード、フレーズの3要素
	- ステータスは5種類
		- `2XX`：正常処理
		- `4XX`：リクエストに誤りがある
		- `5XX`：サーバー処理失敗

- ヘッダー
	- ステータスラインで表現できない追加情報
	- `Content-Type`：応答データのフォーマット
	- `Cache-Control`：データをキャッシュしてよいか

- ボディ
	- 任意のデータ入れることができる

##### 安全性と冪等性

- 副作用とは、リソース（データ）が改変されること
- 安全とは、副作用がないということ（`GET`：読み取り）
- 冪等とは、副作用の有無に関わらず何度実行しても同じ状態が再現されること（`GET`,`PUT`,`DELETE`：読み取り、対象を指定した更新や削除）
- データ登録（POST）は実行されるたびにデータが作られるので、「安全でも冪等でもない操作」となる


#### REST制約

- Roy Fieldingが2000年に発表した論文にRESTという用語が出てから広まった
- RESTとは「REpresentational State Transfer」→分散型システムにおける設計原則群（設計ルール）
- RESTfulとは、「RESTで求められる原則に従っている」こと
- REST原則は以下の6種類

- クライアント/サーバー
	- クライアントがサーバーへリクエストを送り、サーバーがクライアントへレスポンスを返す構成
	- 画面（UI)（クライアント）とデータ（サーバー）で関心事を分離する
	- クライアント側がトリガー、サーバー側は受け身（現代はサーバートリガーもある）

- ステートレス
	- 前の状態を保持せず、一つの通信が独立している
	- 状態はクライアント上に保存され、リクエストに状態情報を含めることで、サーバーはリクエストだけでコンテキストを理解できる
	- メリットは、監視や障害復旧が容易、リクエスト全体でサーバーリソースを共有する必要が無いのでスケールアウトが容易
	- デメリットは、単一のリクエストで完結させるため、リクエストデータに重複がある、複数バージョンのアプリを同時提供して状態をクライアントに置くとアプリ制御が複雑になる


- キャッシュ制御
	- クライアントはレスポンスをキャッシュできる
	- キャッシュを適切に行うことで、必要な情報だけリクエストすればよくなる
	- メリットは、ユーザー体験、リソース効率、拡張性の向上が見込める
	- デメリットは古いデータを戻してしまうとシステムに対する信頼性の低下につながる

- 統一インターフェース
	- 4つの制約がある
	- リソースの識別
		- リソースとは、名前がつけられるあらゆるもの。（サーバー側に保持されるドキュメント、画像、情報、状態など）抽象的な定義も含む。（4月1日の天気、最新（今日）の天気、など）
		- URIを用いてサーバーに保存されたデータを識別する。
		- URIに動作は含まない

	- 表現を用いたリソース操作
		- 表現とは、リソースのある断面のことで、クライアントへ返されるレスポンスやサーバーへPOSTするデータのこと
		- 断面情報を利用してサーバー上のデータを操作すること
		- クライアントからサーバーへ編集リクエストをする際に付与する認証情報などの追加情報（メタデータ）も含まれる

	- 自己記述メッセージ
		- サーバーへリクエストするデータ、クライアントへレスポンスするデータの内容が何であるか、ヘッダーに記述されているということ（ヘッダーの`Content-Type`など）

	- アプリケーション状態エンジンとしてのハイパーメディア（HATEOAS）
		- Hypermedia as the Engine of Application State
		- レスポンスに、現在の状態を踏まえて関連するハイパーリンクが含まれている（例：検索結果ページにおける「次のページ」）

	- 統一インターフェースのメリット
		- システムアーキテクチャ全体が簡素化されて分かりやすい
		- 提供するサービスに集中でき、独自の進化ができる
		- 異なるブラウザでも同じような画面を表示できる

	- 統一インターフェースのデメリット
		- 標準化によって効率が犠牲になる


- 階層化システム
	- `Web` ,`AP` ,`DB`のような多層アーキテクチャ構成のこと（それぞれがいくつもある複雑な構成）
	- 一つの構成要素をコンポーネントとよび、コンポーネントを結合することでシステムを構築する
	- メリットは、各コンポーネントに役割を決めて独立させることで、進化と再利用が促進できる
	- デメリットは、データ処理にオーバーヘッドが発生してユーザーから見ると応答が悪くなる（キャッシュで改善が見込める）

- コードオンデマンド
	- リリース後にサーバー側でHTMLやJavaScriptの更新などのクライアントコードを変更できること
	- メリットは、リリース済みのクライアントに対して機能追加ができることや、クライアントに処理が移譲できるためサーバーの負荷が下がること
	- デメリットは、多数のブラウザなど評価環境が複雑になること


##### REST API 成熟度モデル

- 2010年にMartin Fowlerがブログで紹介した
- 設計レベルは4段階
- レベル0：HTTPを使っている
	- HTTPは通信手段として利用し、1URLで完結する
- レベル1：リソースの概念を導入
	- リソースごとにURLを分離する。`GET`か`POST`のみで通信する。
- レベル2：HTTPの動詞を導入
	- レベル1に加えて、リソースに対してHTTPメソッド（`GET`,`POST`,`PUT`,`DELETE`）を使ったCRUD操作が行われている
	- 一般的によく見かけるのはレベル2の状態
- レベル3：HATEOASの概念を導入
	- レベル2に加えてレスポンスにリソース間のつながりが含まれる


## 次やること
- スッキリわかるSQL入門 問題集
- REST Udemy


## 感じたこと
REST制約はまだはっきりとイメージできていないので、一通り視聴したあとで改めて見直そうと思います。 


## 学習時間
今日:7h
今週:16h 
累計:663.5h