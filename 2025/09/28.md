## 取り組んだ課題一覧
- Next.js公式チュートリアル

	
## わかったこと

#### React Serverコンポーネント

- デフォルトでは、Next.jsアプリケーションはReact Serverコンポーネント（RSC）を使用する。
- RSCの特徴
	- `JavaScript Promises`をサポートし、`useEffect`、`useState`、またはその他のデータフェッチライブラリを必要とせずに`async/await`構文を使用できる。
	- 処理はサーバー上で実行されるため、負荷の高い処理をサーバー側で行い、結果だけをクライアントに返すことができる
	- データベースの接続情報やAPI キーはサーバー上で処理されるため、クライアントに公開されず安全に処理できる
	- ファイルの頭に`'use client'`と記述することでクライアントコンポーネントになり、`useState`や`useEffect`を使用できる
	- Reactはブラウザ（クライアント）で動くので直接DBにアクセスできないが、RSCはサーバーで動くため、`.env`の `DATABASE_URL`を直接使ってDBに接続できる。そのためAPIレイヤーが減り、コード量が減る・メンテがしやすいというメリットがある

- postgresの使用例
```
import postgres from 'postgres';
 
const sql = postgres(process.env.POSTGRES_URL!, { ssl: 'require' });
```

#### レンダリング

- `Promise.all()` または `Promise.allSettled()` 関数を使用して、すべてのPromiseを同時に開始できる（並列処理）
- 静的レンダリングは高速なサイトになる、サーバー負荷の削減、SEOで有利といったメリットがある
- 動的レンダリングはリアルタイムのデータやユーザー固有のコンテンツ表示に適しており、クッキーやURL検索パラメータなどのリクエスト情報にアクセスできる
- 動的レンダリングでは、アプリケーションの速度は最も遅いデータ取得速度と同じになる

#### ストリーミング

- Next.js では常にストリーミングが行われている。すべてのデータの読み込みを待たずに一部を表示することができ、全体の読み込み時間も短縮できる
- `loading.tsx`ファイルには、読み込み中に表示するUI（ローディング画面）を定義する。
- フォルダ名を`()`で囲って作成すると、その名前はURLパスに含まれなくなる。`dashboard/(overview)/page.tsx`のURLは`/dashboard`となる。
- コンポーネントレベルでは、`<Suspense>`を使用してローディング画面を表示できる。`fallback`には読み込み中に表示したい代替コンポーネントを渡す。
```
<Suspense fallback={<RevenueChartSkeleton />}>
     <RevenueChart />  // fetch や Promise処理が含まれるコンポーネント
</Suspense>

```

#### URL検索パラメータ

- 検索パラメータはURLにあるため、検索クエリやフィルターを含むアプリケーションの現在の状態をブックマーク・共有できる
- `useSearchParams`：現在のURLのパラメータにアクセスできる。`/dashboard/invoices?page=1&query=pending`は`{page: '1', query: 'pending'}`となる。
- `usePathname`：現在のURLのパス名を読み取ることができる。`/dashboard/invoices`の場合、`usePathname`は`/dashboard/invoices`を返す。
- `useRouter`：クライアントコンポーネント内のルート間のナビゲーションを有効にする（`replace`を使うとリアルタイムでURLを入力値に置き換えられるなど）
- デバウンスを使用することで、ユーザーが検索ボックスに入力してから指定時間停止した後に検索を実行できる。（1文字打つごとに検索を実行すると負荷が高くなってしまうため）
- URL検索パラメータで検索とページネーションを実装することができる




## 次やること
- Next.js公式チュートリアル


## 感じたこと
静的・動的なレンダリング、ストリーミング、検索とページネーションの実装について学習しました。
Next.jsのいろいろなメリットを知ることができました。


## 学習時間
今日:7h
今週:12.5h 
累計:1117h