## 取り組んだ課題一覧
- Next.js公式チュートリアル

	
## わかったこと

#### 認証

##### NextAuth.jsつづき

###### ログイン機能

- 認証設定：プロジェクト直下に`auth.config.ts`を作成する
	- `pages`オプションを使用して、カスタムサインイン、サインアウト、エラーページのルートを指定できる。
	- ルートを保護するロジックを追加し、ログインしていないユーザーはダッシュボードページにアクセスできないようにする
- ミドルウェア：プロジェクト直下に`middleware.ts`を作成する
	- authConfigオブジェクトでNextAuth.jsを初期化し、authプロパティをエクスポートする
	- Middlewareの`matcher`オプションを使用して、特定のパスで実行するように指定する
- 認証ロジック：プロジェクト直下に`auth.ts`を作成する
	- NextAuth.jsの`providers`オプションを追加し、ログインオプションを指定する
	- `authorize`を使用して電子メールとパスワードを検証する
	- `getUser`関数を作成し、メールアドレスからユーザーを取得できるようにする
	- `bcrypt`で入力パスワードとDBに保存されているハッシュ化済みパスワードを比較
	- パスワードが一致する場合はユーザーを返し、そうでない場合はnullを返してユーザーがログインできないようにする
	- NextAuthは`auth`, `signIn`, `signOut`を返し、それを他のコードで呼ぶことで、認証状態を確認したり、ログイン・ログアウトを実行できる
- サーバーアクション：`/app/lib/actions.ts`にアクションを追加する
	- `authenticate`アクションを追加し、`auth.ts`の`signIn`関数を使ってログイン、またはエラーを返す
- UIコンポーネント：`ui/login-form.tsx`
	- `useActionState`を使用してサーバーアクションを呼び出し、フォームエラー処理・フォームの保留状態を表示する

###### ログアウト機能

- UIコンポーネント：`/ui/dashboard/sidenav.tsx`
	- `auth.ts`の`signOut`関数を使ってログアウト機能を実装


#### メタデータの追加

- メタデータとは、データについての補足データのこと。写真であれば写真そのものがデータで、撮影日時・カメラの機種・撮影場所などがメタデータとなる。
- Webページの <meta> タグや、DBのスキーマ情報などもメタデータにあたる
- SEO強化、検索・整理・アクセス制御・分析などに使われる

- メタデータの種類
    - タイトルメタデータ（`<title>Page Title</title>`）
    - 説明メタデータ（`<meta name="description" content="A brief description of the page content." />`）
    - キーワードメタデータ（`<meta name="keywords" content="keyword1, keyword2, keyword3" />`）
    - オープングラフメタデータ
    ```
    <meta property="og:title" content="Title Here" />
    <meta property="og:description" content="Description Here" />
    <meta property="og:image" content="image_url_here" />
    ```
    - ファビコンメタデータ（`<link rel="icon" href="path/to/favicon.ico" />`）

##### ページタイトル

- `/app/layout.tsx`に以下を記述する
```
import { Metadata } from "next";

// このメタデータはlayout.jsを使用するすべてのページによって継承される
export const metadata: Metadata = {
  title: {
    // %s は特定のページ タイトルに置き換えられる
    template: "%s | Acme Dashboard",
    default: "Acme Dashboard",
  },
  description:
    "The official Next.js Learn Dashboard built with App Router.",
  metadataBase: new URL("https://next-learn-dashboard.vercel.sh"),
};

```
- `/app/dashboard/invoices`に以下を記述すると、テンプレートの`%s `に`title`が置き換えられ、`Invoices' | Acme Dashboard`となる
```
import { Metadata } from "next";

export const metadata: Metadata = {
  title: 'Invoices',
};
```





## 次やること
- Next.js公式チュートリアル


## 感じたこと
昨日に引き続き認証と、メタデータについて学習し、公式チュートリアルを一周することができました。
全体的に難しかったですが、Next.jsの利点を知ることができてよかったです。今後の課題を進めながら不明点は都度復習していきたいと思います。



## 学習時間
今日:2h
今週:25h 
累計:1129.5h