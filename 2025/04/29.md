## 取り組んだ課題一覧
- Progate
    - Node.js Ⅴ〜Ⅵ途中まで

## わかったこと
- Node.js
	- クライアントとサーバーが通信する時の手順やデータ形式にはルールがあり、HTTPと呼ばれている。
	- HTTPに則った通信にはサーバーがクライアントの状態を保持しないという性質がある。（ステートレス性という）
	- セッション管理を行うことでステートレス性の問題を解決できる。セッション管理では、サーバーがクライアントの状態をセッション情報として管理する。
	- 同じURL名でもメソッド（getとpost)が異なるときは別のルーティングとして扱われる。
	- セッション管理を行うためにはexpress-sessionというパッケージをインストールし、必要な情報を記述する。
	- express-sessionパッケージにより、req.sessionオブジェクトに渡した値をセッション情報として保存できる。
	- userIdというプロパティ名をつけて「req.session.userId = ログインしたユーザーid」とすることで、ログイン中のユーザーidを保持できる。保持した後は、どのルーティングからでも「req.session.userId」で値を読み出せる。（値→ログイン中であればユーザーid、ログインしていなければundefined）
	- ルーティングは、上から書かれている順番でリクエストに一致するルーティングが検索され、一致すると実行される。app.use関数は全てのリクエストに対応するので、一番最初に書いておくことでどのルーティングが呼ばれても毎回実行される。ここにセッション情報を確認する処理を記述しておくことで、常にログイン状態を確認することができる。
	- app.use関数の引数で受け取ったnextは処理の中で関数として使うことができ、next関数を実行するとリクエストに一致する次の処理を実行できる。
	- app.useからEJSファイルに値を渡す場合はres.localsオブジェクトを使う。「res.locals.プロパティ名 = 値」で値を代入することができる。EJSファイルで値を用いるときは「locals.プロパティ名」と書く。
	- ヘッダーなどのページで共通する部分はinclude機能で呼び出すことで一つのファイルで管理できる。ejsに<%- include('ファイル名'); %>と記述する。
	- 保存したセッション情報を消すことでログアウトと判定できる。req.session.destroy( ()=>{ 実行後の処理 })と書くことでセッション情報を削除する。
	- INSERTクエリが成功すると、自動で追加したレコードのidがresultsオブジェクトのinsertIdというプロパティに入る。そのためesults.insertIdでidを取得できる。
    - クエリは、INSERTのときはオブジェクトを返し、SELECTのときは配列を返す。




## 次やること
- Progate 
	- Node.js 続き

## 感じたこと
SQLのクエリを忘れてしまっていたので振り返りをしてからNode.jsの学習を進めました。分からないまま進めるよりも理解できたのでよかったです。
連続で学習を続けてきて少し疲れてきたので、適度に休息日も入れていきたいと思います。

## 学習時間
今日:7h
今週:29h 
累計:103h